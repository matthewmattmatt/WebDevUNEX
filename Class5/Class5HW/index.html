<!DOCTYPE html>
<!--Corrected HW from Class 4 with new features and more elegant coding-->
<html>
<head>
	<title>My Shopping Cart</title>
	<script>

		var customerOrder = [
			{
				itemname:"bananas",
				type:"fruit",
				qty: 1,
				unitPrice:3.50
			},
			{
				itemname:"apples",
				type:"fruit",
				qty: 3,
				unitPrice:1.00
			},
			{
				itemname:"pumpkins ",
				type:"vegetable",
				qty: 5,
				unitPrice:5.00
			},
			{
				itemname:"passionfruit",
				type:"fruit",
				qty: 7,
				unitPrice:1.50
			},
		];

		var total = 0.0;

		function createHTMLforInvoice (lineitem) {
			return	  '<div>'
						+ lineitem.itemname 
						+ " " 
						+ lineitem.type 
						+ " " 
						+ lineitem.qty
						+ " "
						+ lineitem.unitPrice
						+ " "
						+ (lineitem.unitPrice * lineitem.qty)
					+ "</div>"
					;
			total += (lineitem.unitPrice * lineitem.qty);
			document.getElementById("totalPrice").innerHTML = total;
		}

		function displayInvoice() {

			/*
			document.getElementById("invoice").innerHTML =
			createHTMLforInvoice(customerOrder[0]);
			*/

			var orderDisplay = "";
			for (currentItem of customerOrder) {
					orderDisplay += createHTMLforInvoice(currentItem);
			}

			document.getElementById("invoice").innerHTML = orderDisplay;
		}

		window.onload = displayInvoice;

	</script>
	<style></style>
</head>
<body>

	<h1>Order Receipt</h1>
	<div id="invoice"></div>

	<h2>Total Amount Due: <div class="totalPrice" id="totalPrice"></div></h2>
</body>
</html>