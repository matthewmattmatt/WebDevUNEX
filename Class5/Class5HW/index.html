<!DOCTYPE html>
<!--Corrected HW from Class 4 with new features and more elegant coding-->
<html>
<head>
	<title>My Shopping Cart</title>

	<style>
		.name {
			color: red;
			display: inline;
			
		}

	</style>
</head>
<body>

	<h1>Order Receipt</h1>
	<div id="invoice"></div>

	<h2>Total Amount Due: <span id="invoiceTotal">This is the total</span></h2>

<script>
	var customerOrder = [
		{
			itemname:"bananas",
			type:"fruit",
			qty: 2,
			unitPrice:3.50
		},
		{
			itemname:"apples",
			type:"fruit",
			qty: 3,
			unitPrice:1.00
		},
		{
			itemname:"pumpkins ",
			type:"vegetable",
			qty: 5,
			unitPrice:5.00
		},
		{
			itemname:"passionfruit",
			type:"fruit",
			qty: 7,
			unitPrice:1.50
		},
	];

	function createHTMLforInvoice (lineitem) {
		return	  '<div>'
					+ '<div class="name">'
					+ lineitem.itemname 
					+ '</div>'
					+ " " 
					+ lineitem.type 
					+ " " 
					+ lineitem.qty
					+ " "
					+ lineitem.unitPrice
					+ " "
					+ (lineitem.unitPrice * lineitem.qty)
				+ "</div>"
				;
	}

	function displayInvoice() {
		var orderDisplay = "";
		for (currentItem of customerOrder) {
				orderDisplay += createHTMLforInvoice(currentItem);
		}
		document.getElementById("invoice").innerHTML = orderDisplay;
	};

	window.onload = displayInvoice;


	function calculateTotal(array) {
		var totalPrice = 0.0;
		for (i = 0; i < array.length; i++) {
			totalPrice += (customerOrder[i].qty * customerOrder[i].unitPrice);
		}
		return(totalPrice);
	};

	document.getElementById("invoiceTotal").innerHTML = (calculateTotal(customerOrder));

	/*
	document.getElementById("invoice").innerHTML =
	createHTMLforInvoice(customerOrder[0]);
	*/

</script>
</body>

</html>